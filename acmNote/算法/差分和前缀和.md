# 差分 & 前缀和

## 前缀和

前缀和可以先 $O(n)$ 求出前缀和数组，后可以使用 $O(1)$ 时间**查询部分和**

- 所有满足结合律且有逆运算的运算都可以使用类似的方法:   加法、乘法、异或  



**高维情况类似**





## 差分

前缀和的逆运算，先用 $O(n)$ 时间求出差分数组，后可以使用 $O(1)$ 时间完成一次**对某个连续区间同时加上一个数的操作**，最后再使用一次前缀和就可以得到原数组

进一步，对一个连续区间上的数加上一组数（如 1,3,5,7,...） ，只要可以使用**多项式函数**表示，都可以通过对原数组若干次差分，然后就可以 $O(1)$ 时间完成一次区间加法

- 同理上述的**“加法”**，也可以替换为**“乘法”**、**“异或”**等



